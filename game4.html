<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Game 4 - ÂÖÉÁ¥†„ÇØ„Ç§„Ç∫ RUSH!</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;user-select:none}
body{font-family:'Hiragino Sans','Meiryo',sans-serif;background:#0a0a1a;min-height:100vh;overflow:hidden;touch-action:manipulation}

.back-btn{position:fixed;top:15px;left:15px;background:linear-gradient(180deg,#6c0000,#8b0000);border:2px solid #ff3030;color:#fff;width:50px;height:50px;border-radius:50%;font-size:1.5rem;cursor:pointer;z-index:9999;box-shadow:0 4px 15px rgba(139,0,0,0.5);display:flex;align-items:center;justify-content:center;transition:all .2s}
.back-btn:active{transform:scale(.9)}

#game{width:100vw;height:100vh;max-width:500px;margin:0 auto;position:relative;overflow:hidden}
.screen{display:none;width:100%;height:100%;flex-direction:column;align-items:center;justify-content:center;padding:15px;position:absolute;top:0;left:0}
.screen.active{display:flex}

#title{background:#000;position:relative;overflow:hidden}
.bg-effects{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none}
.cyber-grid{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(90deg,rgba(0,255,255,.03) 1px,transparent 1px),linear-gradient(rgba(0,255,255,.03) 1px,transparent 1px);background-size:30px 30px;animation:gridMove 20s linear infinite}
@keyframes gridMove{0%{background-position:0 0}100%{background-position:30px 30px}}
.aurora{position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(ellipse at 20% 20%,rgba(255,0,128,.3) 0%,transparent 50%),radial-gradient(ellipse at 80% 30%,rgba(0,255,255,.3) 0%,transparent 50%),radial-gradient(ellipse at 50% 80%,rgba(128,0,255,.3) 0%,transparent 50%);animation:auroraShift 8s ease-in-out infinite}
@keyframes auroraShift{0%,100%{opacity:.8}50%{opacity:1}}
.particles{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}
.particle{position:absolute;border-radius:50%;animation:floatUp 10s infinite;opacity:0}
@keyframes floatUp{0%{transform:translateY(100vh) scale(0);opacity:0}10%{opacity:1}90%{opacity:1}100%{transform:translateY(-100vh) scale(1);opacity:0}}

.title-content{position:relative;z-index:10;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;padding:20px}
.title-logo{text-align:center;margin-bottom:auto;padding-top:8vh}
.title-icons{font-size:2em;display:flex;gap:8px;justify-content:center;margin-bottom:15px;animation:bounce .6s ease-in-out infinite alternate}
@keyframes bounce{from{transform:translateY(0)}to{transform:translateY(-10px)}}
.element-icon{width:50px;height:50px;border:2px solid;border-radius:8px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-weight:bold}
.element-icon.h{background:linear-gradient(135deg,#ff6b6b,#ee5a5a);border-color:#ff8888}
.element-icon.o{background:linear-gradient(135deg,#4ecdc4,#3dbdb5);border-color:#6edddd}
.element-icon.au{background:linear-gradient(135deg,#ffd700,#ffcc00);border-color:#ffe666}
.element-icon .symbol{font-size:1.2em;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3)}
.element-icon .number{font-size:.5em;color:rgba(255,255,255,.8)}

.title-text{font-size:2.2em;font-weight:900;color:#fff;text-shadow:0 0 10px #fff,0 0 20px #ff00ff,0 0 40px #ff00ff;animation:textPulse 1s ease-in-out infinite}
@keyframes textPulse{0%,100%{text-shadow:0 0 10px #fff,0 0 20px #ff00ff,0 0 40px #ff00ff}50%{text-shadow:0 0 20px #fff,0 0 40px #00ffff,0 0 60px #00ffff}}
.title-sub{font-size:1em;color:#ffcc00;letter-spacing:.3em;margin-top:10px;text-shadow:0 0 20px #ffcc00}

.highscore-box{background:rgba(0,0,0,.6);border:2px solid #ffcc00;border-radius:15px;padding:10px 30px;margin-top:20px;text-align:center}
.highscore-label{color:#888;font-size:.8em}
.highscore-value{color:#ffcc00;font-size:1.5em;font-weight:bold}

.clear-status{display:none;margin-top:12px;padding:6px 20px;background:rgba(0,255,100,.15);border:2px solid #00ff66;border-radius:20px;color:#00ff88;font-size:.9em;font-weight:bold;text-shadow:0 0 10px #00ff66}

.start-btn{position:relative;background:transparent;border:none;padding:22px 80px;font-size:1.8em;font-weight:bold;color:#fff;cursor:pointer;overflow:hidden;transition:all .3s;border-radius:50px;margin-bottom:auto}
.start-btn::before{content:'';position:absolute;inset:0;background:linear-gradient(45deg,#ff0080,#ff00ff,#00ffff,#00ff88);background-size:400%;animation:gradientShift 2s ease infinite;border-radius:50px;z-index:-2}
@keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.start-btn::after{content:'';position:absolute;inset:3px;background:rgba(0,0,0,.85);border-radius:47px;z-index:-1}
.start-btn:active{transform:scale(.95)}
.start-btn:active::after{background:rgba(0,0,0,.6)}

.hint{color:#888;font-size:.85em;padding-bottom:8vh;text-align:center;line-height:1.6}

.hud{position:absolute;top:0;left:0;right:0;padding:8px 12px;padding-left:70px;display:flex;justify-content:space-between;align-items:center;background:linear-gradient(180deg,rgba(0,0,0,.9) 0%,transparent 100%);z-index:10}
.hud-item{display:flex;align-items:center;gap:5px;color:#fff;font-weight:bold}
.lives{font-size:1.1em}
.pass-count{color:#ffcc00;font-size:.85em;text-shadow:0 0 8px #ffcc00}
.score{color:#00ffff;font-size:1.2em;text-shadow:0 0 10px #00ffff}
.streak{color:#ffcc00;font-size:1em;text-shadow:0 0 10px #ffcc00}

.progress-wrap{position:absolute;top:53px;left:0;right:0;height:6px;background:rgba(255,255,255,.08);z-index:10}
.progress-bar{height:100%;background:linear-gradient(90deg,#ffd700,#ffaa00);transition:width .3s ease;box-shadow:0 0 8px #ffd700}
.progress-bar.full{background:linear-gradient(90deg,#00ff66,#00cc44);box-shadow:0 0 12px #00ff66;animation:progressPulse .4s}
@keyframes progressPulse{0%,100%{opacity:1}50%{opacity:.6}}

.timer-wrap{position:absolute;top:45px;left:0;right:0;height:8px;background:rgba(255,255,255,.1)}
.timer-bar{height:100%;background:linear-gradient(90deg,#00ff88,#00ffff);transition:width .05s linear;box-shadow:0 0 10px currentColor}
.timer-bar.warn{background:linear-gradient(90deg,#ffcc00,#ff9900)}
.timer-bar.danger{background:linear-gradient(90deg,#ff0044,#ff0088);animation:timerPulse .15s infinite}
@keyframes timerPulse{0%,100%{opacity:1}50%{opacity:.5}}

.mission-banner{position:absolute;top:66px;left:0;right:0;text-align:center;z-index:10}
.mission-text{display:inline-block;background:rgba(0,0,0,.9);color:#fff;padding:8px 20px;border-radius:30px;font-size:.9em;font-weight:bold;border:3px solid #ffcc00;text-shadow:0 0 10px #ffcc00;animation:missionPop .3s ease-out}
@keyframes missionPop{from{transform:scale(.5);opacity:0}to{transform:scale(1);opacity:1}}

#gameplay{background:linear-gradient(180deg,#0a0a2e 0%,#1a0a2e 100%)}
.game-area{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;padding-top:110px;position:relative}

.question-box{background:linear-gradient(135deg,rgba(20,20,60,.9),rgba(40,20,60,.9));border:3px solid #666;border-radius:20px;padding:15px 25px;text-align:center;margin-bottom:20px;min-width:280px;max-width:350px;box-shadow:0 10px 40px rgba(0,0,0,.5)}
.question-label{color:#888;font-size:.8em;margin-bottom:8px}
.question-content{font-size:1.4em;font-weight:bold;color:#fff;min-height:45px;display:flex;align-items:center;justify-content:center;line-height:1.4}
.question-text{font-size:.85em;line-height:1.5}

.element-display{width:90px;height:90px;border:4px solid #00ffff;border-radius:15px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#1a3a5a,#0a2a4a);box-shadow:0 0 30px rgba(0,255,255,.3)}
.element-display .atomic-num{font-size:.7em;color:#88ccff}
.element-display .symbol{font-size:2.2em;color:#fff;text-shadow:0 0 20px #00ffff}
.element-display .name{font-size:.55em;color:#aaa}

.combine-display{display:flex;align-items:center;gap:10px}
.combine-element{width:60px;height:60px;border:3px solid #ff88ff;border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#3a1a5a,#2a0a4a);box-shadow:0 0 20px rgba(255,0,255,.3)}
.combine-element .symbol{font-size:1.5em;color:#fff}
.combine-element .name{font-size:.5em;color:#ccc}
.combine-plus{font-size:2em;color:#ff88ff;text-shadow:0 0 10px #ff00ff}
.combine-arrow{font-size:1.5em;color:#88ffff;margin-left:5px}

.formula-display{font-size:1.8em;color:#88ffff;text-shadow:0 0 15px #00ffff;padding:10px 20px;background:rgba(0,50,80,.5);border-radius:10px;border:2px solid #00aaaa}
.formula-display sub{font-size:.7em}

.choices{display:grid;gap:10px;width:100%;max-width:350px;padding:0 10px}
.choices.cols-2{grid-template-columns:1fr 1fr}
.choices.cols-1{grid-template-columns:1fr}

.choice-btn{background:linear-gradient(180deg,#2a2a5a,#1a1a4a);border:3px solid #555;border-radius:15px;padding:15px 12px;font-size:1em;font-weight:bold;color:#fff;cursor:pointer;transition:all .15s;box-shadow:0 5px 15px rgba(0,0,0,.4)}
.choice-btn:active{transform:scale(.95)}
.choice-btn:hover{border-color:#00ffff;box-shadow:0 0 20px rgba(0,255,255,.3)}
.choice-btn.correct{background:linear-gradient(180deg,#00aa44,#008833);border-color:#00ff66;animation:correctPulse .3s}
.choice-btn.wrong{background:linear-gradient(180deg,#aa0044,#880033);border-color:#ff0066;animation:wrongShake .3s}
.choice-btn.disabled{pointer-events:none;opacity:.6}
.choice-btn.big{padding:22px 18px;font-size:1.2em}
@keyframes correctPulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
@keyframes wrongShake{0%,100%{transform:translateX(0)}25%{transform:translateX(-10px)}75%{transform:translateX(10px)}}

.pass-btn{margin-top:15px;padding:12px 30px;background:linear-gradient(180deg,#3a3a1a,#2a2a0a);border:2px solid #886600;border-radius:25px;color:#ffcc00;font-size:.95em;font-weight:bold;cursor:pointer;transition:all .2s;box-shadow:0 3px 10px rgba(136,102,0,.3)}
.pass-btn:active{transform:scale(.95)}
.pass-btn:disabled{opacity:.25;pointer-events:none;border-color:#444;color:#666}

.popup{position:fixed;top:40%;left:50%;transform:translate(-50%,-50%);font-size:2.5em;font-weight:bold;pointer-events:none;z-index:1000;animation:popAnim .5s forwards}
@keyframes popAnim{0%{opacity:0;transform:translate(-50%,-50%) scale(.3)}30%{opacity:1;transform:translate(-50%,-50%) scale(1.3)}100%{opacity:0;transform:translate(-50%,-80%) scale(1)}}
.popup.correct{color:#00ff88;text-shadow:0 0 30px #00ff88,0 0 60px #00ff88}
.popup.wrong{color:#ff0044;text-shadow:0 0 30px #ff0044}
.popup.combo{color:#ffcc00;text-shadow:0 0 30px #ffcc00,0 0 60px #ffcc00;font-size:2.8em}
.popup.pass{color:#ffcc00;text-shadow:0 0 20px #ffcc00,0 0 40px #ffcc00;font-size:2em}
.popup.newrecord{color:#ff00ff;text-shadow:0 0 30px #ff00ff,0 0 60px #ff00ff;font-size:2em}

.splash{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:3em;font-weight:900;color:#fff;text-shadow:0 0 20px #fff,0 0 40px #00ffff;z-index:100;animation:splashAnim .6s forwards;text-align:center}
@keyframes splashAnim{0%{opacity:0;transform:translate(-50%,-50%) scale(2.5)}40%{opacity:1;transform:translate(-50%,-50%) scale(1)}100%{opacity:0;transform:translate(-50%,-50%) scale(.8)}}

.flash{position:fixed;inset:0;pointer-events:none;z-index:999}
.flash.hit{animation:flashGreen .12s}
.flash.miss{animation:flashRed .2s}
@keyframes flashGreen{from{background:rgba(0,255,100,.4)}to{background:transparent}}
@keyframes flashRed{from{background:rgba(255,0,50,.5)}to{background:transparent}}

.clear-overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.85);z-index:5000;animation:clearFade 3s forwards}
@keyframes clearFade{0%{opacity:0}10%{opacity:1}75%{opacity:1}100%{opacity:0}}
.clear-banner{text-align:center;animation:clearPop .5s cubic-bezier(.68,-.55,.265,1.55)}
@keyframes clearPop{0%{transform:scale(0)}100%{transform:scale(1)}}

#result{position:relative;overflow:hidden}
#result .result-aurora{position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(ellipse at 50% 50%,rgba(255,0,0,.15) 0%,transparent 60%)}
.result-content{position:relative;z-index:10;display:flex;flex-direction:column;align-items:center}
.result-icon-container{position:relative;margin-bottom:15px}
.result-icon{font-size:5em;animation:iconEntry .6s cubic-bezier(.68,-.55,.265,1.55)}
@keyframes iconEntry{0%{transform:scale(0) rotate(-180deg);opacity:0}100%{transform:scale(1) rotate(0deg);opacity:1}}
.result-title{font-size:2em;font-weight:900;margin-bottom:10px;color:#fff}
.result-title.newrecord{color:#ffcc00;text-shadow:0 0 20px #ffcc00;animation:recordPulse .5s ease-in-out infinite alternate}
@keyframes recordPulse{from{transform:scale(1)}to{transform:scale(1.05)}}
.result-score-box{background:linear-gradient(135deg,rgba(0,0,0,.6),rgba(30,30,60,.6));border:2px solid rgba(0,255,255,.3);border-radius:15px;padding:15px 50px;margin:10px 0;text-align:center}
.result-score-label{color:#888;font-size:.8em;text-transform:uppercase}
.result-score-value{font-size:2.8em;font-weight:900;color:#00ffff;text-shadow:0 0 30px #00ffff}
.result-stats{background:rgba(0,0,0,.4);border-radius:10px;padding:10px 25px;margin:10px 0}
.stat-row{display:flex;justify-content:space-between;color:#fff;font-size:.95em;padding:5px 0;gap:30px}
.stat-value{font-weight:bold}
.stat-value.cyan{color:#00ffff}
.stat-value.gold{color:#ffd700}
.result-buttons{display:flex;flex-direction:column;gap:8px;margin-top:15px}
.btn{background:linear-gradient(145deg,#ff0066,#cc0052);color:#fff;border:none;padding:14px 50px;font-size:1.2em;font-weight:bold;border-radius:50px;cursor:pointer;box-shadow:0 5px 25px rgba(255,0,102,.4);transition:all .2s}
.btn:active{transform:scale(.95)}
.btn-cyan{background:linear-gradient(145deg,#00cccc,#009999);box-shadow:0 5px 25px rgba(0,204,204,.4)}
.btn-gray{background:linear-gradient(145deg,#555,#333);box-shadow:0 3px 15px rgba(0,0,0,.3)}
.btn-small{padding:10px 30px;font-size:1em}
.question-num{position:absolute;top:106px;right:15px;background:rgba(0,0,0,.6);color:#aaa;padding:5px 12px;border-radius:15px;font-size:.85em}
.level-indicator{position:absolute;top:106px;left:15px;background:linear-gradient(135deg,rgba(255,0,128,.8),rgba(128,0,255,.8));color:#fff;padding:5px 12px;border-radius:15px;font-size:.85em;font-weight:bold}
.clear-achieved{margin-top:10px;padding:8px 20px;background:rgba(0,255,100,.1);border:1px solid rgba(0,255,100,.4);border-radius:12px;color:#00ff88;font-size:1em;font-weight:bold;text-align:center}
.clear-progress{position:absolute;top:106px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.7);color:#ffd700;padding:4px 14px;border-radius:12px;font-size:.75em;font-weight:bold;border:1px solid rgba(255,215,0,.3);white-space:nowrap}
</style>
</head>
<body>
<button class="back-btn" onclick="goBack()">‚Üê</button>
<div id="game">
<div class="flash" id="flash"></div>

<div id="title" class="screen active">
<div class="bg-effects">
<div class="cyber-grid"></div>
<div class="aurora"></div>
<div class="particles" id="particles"></div>
</div>
<div class="title-content">
<div class="title-logo">
<div class="title-icons">
<div class="element-icon h"><span class="number">1</span><span class="symbol">H</span></div>
<div class="element-icon o"><span class="number">8</span><span class="symbol">O</span></div>
<div class="element-icon au"><span class="number">79</span><span class="symbol">Au</span></div>
</div>
<div class="title-text">ÂÖÉÁ¥†„ÇØ„Ç§„Ç∫ RUSH!</div>
<div class="title-sub">GAME 4</div>
<div class="highscore-box">
<div class="highscore-label">üèÜ HIGH SCORE</div>
<div class="highscore-value" id="title-highscore">0</div>
</div>
<div class="clear-status" id="clear-status">‚úÖ „Çπ„ÉÜ„Éº„Ç∏„ÇØ„É™„Ç¢Ê∏à„Åø</div>
</div>
<button class="start-btn" onclick="startGame()">‚ñ∂ START</button>
<div class="hint">
üéØ 15ÂïèÁõÆÂà∞ÈÅî„Åß„Çπ„ÉÜ„Éº„Ç∏„ÇØ„É™„Ç¢ÔºÅ<br>
‚è≠Ô∏è „Éë„Çπ„ÅØ3Âõû„Åæ„Åß‰Ωø„Åà„Åæ„Åô<br>
„É©„Ç§„Éï„Åå„Å™„Åè„Å™„Çã„Åæ„ÅßÊåëÊà¶ÔºÅ
</div>
</div>
</div>

<div id="gameplay" class="screen">
<div class="hud">
<div class="hud-item"><span class="lives" id="lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span></div>
<div class="hud-item"><span class="pass-count" id="pass-count">‚è≠Ô∏è3</span></div>
<div class="hud-item"><span class="streak" id="streak"></span></div>
<div class="hud-item"><span class="score" id="score">0</span></div>
</div>
<div class="timer-wrap"><div class="timer-bar" id="timer"></div></div>
<div class="progress-wrap"><div class="progress-bar" id="progress"></div></div>
<div class="mission-banner"><div class="mission-text" id="mission-text"></div></div>
<div class="level-indicator" id="level">Lv.1</div>
<div class="clear-progress" id="clear-progress">üéØ Q.1 / Q.15</div>
<div class="question-num" id="question-num">Q.1</div>
<div class="game-area" id="area"></div>
</div>

<div id="result" class="screen">
<div class="result-aurora"></div>
<div class="result-content" id="result-content"></div>
</div>
</div>

<script>
const GAME_NUMBER=4;
const CLEAR_TARGET=15;

const ELEMENTS=[
{num:1,symbol:'H',name:'Ê∞¥Á¥†',reading:'„Åô„ÅÑ„Åù',group:'ÈùûÈáëÂ±û',state:'Ê∞ó‰Ωì'},
{num:2,symbol:'He',name:'„Éò„É™„Ç¶„É†',reading:'„Å∏„Çä„ÅÜ„ÇÄ',group:'Â∏å„Ç¨„Çπ',state:'Ê∞ó‰Ωì'},
{num:3,symbol:'Li',name:'„É™„ÉÅ„Ç¶„É†',reading:'„Çä„Å°„ÅÜ„ÇÄ',group:'„Ç¢„É´„Ç´„É™ÈáëÂ±û',state:'Âõ∫‰Ωì'},
{num:6,symbol:'C',name:'ÁÇ≠Á¥†',reading:'„Åü„Çì„Åù',group:'ÈùûÈáëÂ±û',state:'Âõ∫‰Ωì'},
{num:7,symbol:'N',name:'Á™íÁ¥†',reading:'„Å°„Å£„Åù',group:'ÈùûÈáëÂ±û',state:'Ê∞ó‰Ωì'},
{num:8,symbol:'O',name:'ÈÖ∏Á¥†',reading:'„Åï„Çì„Åù',group:'ÈùûÈáëÂ±û',state:'Ê∞ó‰Ωì'},
{num:9,symbol:'F',name:'„Éï„ÉÉÁ¥†',reading:'„Åµ„Å£„Åù',group:'„Éè„É≠„Ç≤„É≥',state:'Ê∞ó‰Ωì'},
{num:10,symbol:'Ne',name:'„Éç„Ç™„É≥',reading:'„Å≠„Åä„Çì',group:'Â∏å„Ç¨„Çπ',state:'Ê∞ó‰Ωì'},
{num:11,symbol:'Na',name:'„Éä„Éà„É™„Ç¶„É†',reading:'„Å™„Å®„Çä„ÅÜ„ÇÄ',group:'„Ç¢„É´„Ç´„É™ÈáëÂ±û',state:'Âõ∫‰Ωì'},
{num:12,symbol:'Mg',name:'„Éû„Ç∞„Éç„Ç∑„Ç¶„É†',reading:'„Åæ„Åê„Å≠„Åó„ÅÜ„ÇÄ',group:'„Ç¢„É´„Ç´„É™ÂúüÈ°ûÈáëÂ±û',state:'Âõ∫‰Ωì'},
{num:13,symbol:'Al',name:'„Ç¢„É´„Éü„Éã„Ç¶„É†',reading:'„ÅÇ„Çã„Åø„Å´„ÅÜ„ÇÄ',group:'ÈáëÂ±û',state:'Âõ∫‰Ωì'},
{num:14,symbol:'Si',name:'„Ç±„Ç§Á¥†',reading:'„Åë„ÅÑ„Åù',group:'ÂçäÈáëÂ±û',state:'Âõ∫‰Ωì'},
{num:15,symbol:'P',name:'„É™„É≥',reading:'„Çä„Çì',group:'ÈùûÈáëÂ±û',state:'Âõ∫‰Ωì'},
{num:16,symbol:'S',name:'Á°´ÈªÑ',reading:'„ÅÑ„Åä„ÅÜ',group:'ÈùûÈáëÂ±û',state:'Âõ∫‰Ωì'},
{num:17,symbol:'Cl',name:'Â°©Á¥†',reading:'„Åà„Çì„Åù',group:'„Éè„É≠„Ç≤„É≥',state:'Ê∞ó‰Ωì'},
{num:18,symbol:'Ar',name:'„Ç¢„É´„Ç¥„É≥',reading:'„ÅÇ„Çã„Åî„Çì',group:'Â∏å„Ç¨„Çπ',state:'Ê∞ó‰Ωì'},
{num:19,symbol:'K',name:'„Ç´„É™„Ç¶„É†',reading:'„Åã„Çä„ÅÜ„ÇÄ',group:'„Ç¢„É´„Ç´„É™ÈáëÂ±û',state:'Âõ∫‰Ωì'},
{num:20,symbol:'Ca',name:'„Ç´„É´„Ç∑„Ç¶„É†',reading:'„Åã„Çã„Åó„ÅÜ„ÇÄ',group:'„Ç¢„É´„Ç´„É™ÂúüÈ°ûÈáëÂ±û',state:'Âõ∫‰Ωì'},
{num:26,symbol:'Fe',name:'ÈâÑ',reading:'„Å¶„Å§',group:'ÈÅ∑ÁßªÈáëÂ±û',state:'Âõ∫‰Ωì'},
{num:29,symbol:'Cu',name:'ÈäÖ',reading:'„Å©„ÅÜ',group:'ÈÅ∑ÁßªÈáëÂ±û',state:'Âõ∫‰Ωì'},
{num:30,symbol:'Zn',name:'‰∫úÈâõ',reading:'„ÅÇ„Åà„Çì',group:'ÈÅ∑ÁßªÈáëÂ±û',state:'Âõ∫‰Ωì'},
{num:35,symbol:'Br',name:'Ëá≠Á¥†',reading:'„Åó„ÇÖ„ÅÜ„Åù',group:'„Éè„É≠„Ç≤„É≥',state:'Ê∂≤‰Ωì'},
{num:47,symbol:'Ag',name:'ÈäÄ',reading:'„Åé„Çì',group:'ÈÅ∑ÁßªÈáëÂ±û',state:'Âõ∫‰Ωì'},
{num:53,symbol:'I',name:'„É®„Ç¶Á¥†',reading:'„Çà„ÅÜ„Åù',group:'„Éè„É≠„Ç≤„É≥',state:'Âõ∫‰Ωì'},
{num:79,symbol:'Au',name:'Èáë',reading:'„Åç„Çì',group:'ÈÅ∑ÁßªÈáëÂ±û',state:'Âõ∫‰Ωì'},
{num:80,symbol:'Hg',name:'Ê∞¥ÈäÄ',reading:'„Åô„ÅÑ„Åé„Çì',group:'ÈÅ∑ÁßªÈáëÂ±û',state:'Ê∂≤‰Ωì'},
{num:82,symbol:'Pb',name:'Èâõ',reading:'„Å™„Åæ„Çä',group:'ÈáëÂ±û',state:'Âõ∫‰Ωì'}
];

const COMPOUNDS=[
{formula:'H‚ÇÇO',name:'Ê∞¥',elements:['H','O'],hint:'ÁîüÂëΩ„Å´Ê¨†„Åã„Åõ„Å™„ÅÑÊ∂≤‰Ωì',category:'ÈÖ∏ÂåñÁâ©',color:'ÁÑ°Ëâ≤',state:'Ê∂≤‰Ωì'},
{formula:'CO‚ÇÇ',name:'‰∫åÈÖ∏ÂåñÁÇ≠Á¥†',elements:['C','O'],hint:'ÁÇ≠ÈÖ∏È£≤Êñô„ÅÆ„Ç∑„É•„ÉØ„Ç∑„É•„ÉØ',category:'ÈÖ∏ÂåñÁâ©',color:'ÁÑ°Ëâ≤',state:'Ê∞ó‰Ωì'},
{formula:'NaCl',name:'Â°©Âåñ„Éä„Éà„É™„Ç¶„É†',elements:['Na','Cl'],hint:'È£üÂ°©„ÅÆÊ≠£‰Ωì',category:'Â°©',color:'ÁôΩËâ≤',state:'Âõ∫‰Ωì'},
{formula:'NH‚ÇÉ',name:'„Ç¢„É≥„É¢„Éã„Ç¢',elements:['N','H'],hint:'Âà∫ÊøÄËá≠„ÅÆ„ÅÇ„ÇãÊ∞ó‰Ωì',category:'Ê∞¥Á¥†ÂåñÂêàÁâ©',color:'ÁÑ°Ëâ≤',state:'Ê∞ó‰Ωì'},
{formula:'CH‚ÇÑ',name:'„É°„Çø„É≥',elements:['C','H'],hint:'ÈÉΩÂ∏Ç„Ç¨„Çπ„ÅÆ‰∏ªÊàêÂàÜ',category:'ÁÇ≠ÂåñÊ∞¥Á¥†',color:'ÁÑ°Ëâ≤',state:'Ê∞ó‰Ωì'},
{formula:'HCl',name:'Â°©ÂåñÊ∞¥Á¥†',elements:['H','Cl'],hint:'Â°©ÈÖ∏„ÅÆÊàêÂàÜ',category:'ÈÖ∏',color:'ÁÑ°Ëâ≤',state:'Ê∞ó‰Ωì'},
{formula:'H‚ÇÇSO‚ÇÑ',name:'Á°´ÈÖ∏',elements:['H','S','O'],hint:'Âº∑„ÅÑÈÖ∏ÊÄß„ÅÆÊ∂≤‰Ωì',category:'ÈÖ∏',color:'ÁÑ°Ëâ≤',state:'Ê∂≤‰Ωì'},
{formula:'NaOH',name:'Ê∞¥ÈÖ∏Âåñ„Éä„Éà„É™„Ç¶„É†',elements:['Na','O','H'],hint:'ËãõÊÄß„ÇΩ„Éº„ÉÄ„Å®„ÇÇÂëº„Å∞„Çå„Çã',category:'Â°©Âü∫',color:'ÁôΩËâ≤',state:'Âõ∫‰Ωì'},
{formula:'CaCO‚ÇÉ',name:'ÁÇ≠ÈÖ∏„Ç´„É´„Ç∑„Ç¶„É†',elements:['Ca','C','O'],hint:'Áü≥ÁÅ∞Áü≥„ÉªË≤ùÊÆª„ÅÆÊàêÂàÜ',category:'Â°©',color:'ÁôΩËâ≤',state:'Âõ∫‰Ωì'},
{formula:'Fe‚ÇÇO‚ÇÉ',name:'ÈÖ∏ÂåñÈâÑ(III)',elements:['Fe','O'],hint:'Ëµ§„Åï„Å≥„ÅÆÊ≠£‰Ωì',category:'ÈÖ∏ÂåñÁâ©',color:'Ëµ§Ë§êËâ≤',state:'Âõ∫‰Ωì'},
{formula:'NaHCO‚ÇÉ',name:'ÁÇ≠ÈÖ∏Ê∞¥Á¥†„Éä„Éà„É™„Ç¶„É†',elements:['Na','H','C','O'],hint:'ÈáçÊõπ„Éª„Éô„Éº„Ç≠„É≥„Ç∞„ÇΩ„Éº„ÉÄ',category:'Â°©',color:'ÁôΩËâ≤',state:'Âõ∫‰Ωì'},
{formula:'CuSO‚ÇÑ',name:'Á°´ÈÖ∏ÈäÖ',elements:['Cu','S','O'],hint:'Èùí„ÅÑÁµêÊô∂„Å´„Å™„Çã',category:'Â°©',color:'ÈùíËâ≤',state:'Âõ∫‰Ωì'},
{formula:'MgO',name:'ÈÖ∏Âåñ„Éû„Ç∞„Éç„Ç∑„Ç¶„É†',elements:['Mg','O'],hint:'‰æøÁßòËñ¨„Å´„ÇÇ‰Ωø„Çè„Çå„Çã',category:'ÈÖ∏ÂåñÁâ©',color:'ÁôΩËâ≤',state:'Âõ∫‰Ωì'},
{formula:'SiO‚ÇÇ',name:'‰∫åÈÖ∏Âåñ„Ç±„Ç§Á¥†',elements:['Si','O'],hint:'„Ç¨„É©„Çπ„ÉªÁü≥Ëã±„ÅÆ‰∏ªÊàêÂàÜ',category:'ÈÖ∏ÂåñÁâ©',color:'ÁÑ°Ëâ≤',state:'Âõ∫‰Ωì'},
{formula:'CO',name:'‰∏ÄÈÖ∏ÂåñÁÇ≠Á¥†',elements:['C','O'],hint:'ÁÑ°Ëâ≤ÁÑ°Ëá≠„ÅÆÊúâÊØí„Ç¨„Çπ',category:'ÈÖ∏ÂåñÁâ©',color:'ÁÑ°Ëâ≤',state:'Ê∞ó‰Ωì'},
{formula:'NO‚ÇÇ',name:'‰∫åÈÖ∏ÂåñÁ™íÁ¥†',elements:['N','O'],hint:'Â§ßÊ∞óÊ±öÊüìÁâ©Ë≥™„ÅÆ‰∏Ä„Å§',category:'ÈÖ∏ÂåñÁâ©',color:'Ëµ§Ë§êËâ≤',state:'Ê∞ó‰Ωì'},
{formula:'SO‚ÇÇ',name:'‰∫åÈÖ∏ÂåñÁ°´ÈªÑ',elements:['S','O'],hint:'Ê∏©Ê≥â„ÇÑÁÅ´Â±±„ÅÆÂåÇ„ÅÑ',category:'ÈÖ∏ÂåñÁâ©',color:'ÁÑ°Ëâ≤',state:'Ê∞ó‰Ωì'},
{formula:'C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ',name:'„Ç∞„É´„Ç≥„Éº„Çπ',elements:['C','H','O'],hint:'„Éñ„Éâ„Ç¶Á≥ñ„ÅÆ„Åì„Å®',category:'Á≥ñÈ°û',color:'ÁôΩËâ≤',state:'Âõ∫‰Ωì'},
{formula:'C‚ÇÇH‚ÇÖOH',name:'„Ç®„Çø„Éé„Éº„É´',elements:['C','H','O'],hint:'„ÅäÈÖí„ÅÆ„Ç¢„É´„Ç≥„Éº„É´',category:'„Ç¢„É´„Ç≥„Éº„É´',color:'ÁÑ°Ëâ≤',state:'Ê∂≤‰Ωì'},
{formula:'CH‚ÇÉCOOH',name:'ÈÖ¢ÈÖ∏',elements:['C','H','O'],hint:'È£üÈÖ¢„ÅÆÈÖ∏„Å£„Å±„Åï„ÅÆÂÖÉ',category:'ÊúâÊ©üÈÖ∏',color:'ÁÑ°Ëâ≤',state:'Ê∂≤‰Ωì'},
{formula:'C‚ÇÉH‚Çà',name:'„Éó„É≠„Éë„É≥',elements:['C','H'],hint:'LP„Ç¨„Çπ„ÅÆ‰∏ªÊàêÂàÜ',category:'ÁÇ≠ÂåñÊ∞¥Á¥†',color:'ÁÑ°Ëâ≤',state:'Ê∞ó‰Ωì'},
{formula:'CH‚ÇÉOH',name:'„É°„Çø„Éé„Éº„É´',elements:['C','H','O'],hint:'Êú®Á≤æ„Å®„ÇÇÂëº„Å∞„Çå„ÇãÊØíÊÄß„Ç¢„É´„Ç≥„Éº„É´',category:'„Ç¢„É´„Ç≥„Éº„É´',color:'ÁÑ°Ëâ≤',state:'Ê∂≤‰Ωì'},
{formula:'HNO‚ÇÉ',name:'Á°ùÈÖ∏',elements:['H','N','O'],hint:'Âº∑ÈÖ∏„ÅßÈÖ∏ÂåñÂäõ„ÅåÂº∑„ÅÑ',category:'ÈÖ∏',color:'ÁÑ°Ëâ≤',state:'Ê∂≤‰Ωì'},
{formula:'H‚ÇÇO‚ÇÇ',name:'ÈÅéÈÖ∏ÂåñÊ∞¥Á¥†',elements:['H','O'],hint:'„Ç™„Ç≠„Ç∑„Éâ„Éº„É´„ÅÆÊàêÂàÜ',category:'ÈÖ∏ÂåñÁâ©',color:'ÁÑ°Ëâ≤',state:'Ê∂≤‰Ωì'},
{formula:'KOH',name:'Ê∞¥ÈÖ∏Âåñ„Ç´„É™„Ç¶„É†',elements:['K','O','H'],hint:'ËãõÊÄß„Ç´„É™„Å®„ÇÇÂëº„Å∞„Çå„Çã',category:'Â°©Âü∫',color:'ÁôΩËâ≤',state:'Âõ∫‰Ωì'},
{formula:'Ca(OH)‚ÇÇ',name:'Ê∞¥ÈÖ∏Âåñ„Ç´„É´„Ç∑„Ç¶„É†',elements:['Ca','O','H'],hint:'Ê∂àÁü≥ÁÅ∞„ÅÆ„Åì„Å®',category:'Â°©Âü∫',color:'ÁôΩËâ≤',state:'Âõ∫‰Ωì'},
{formula:'Na‚ÇÇCO‚ÇÉ',name:'ÁÇ≠ÈÖ∏„Éä„Éà„É™„Ç¶„É†',elements:['Na','C','O'],hint:'Ê¥óÊøØ„ÇΩ„Éº„ÉÄ„Å®„ÇÇÂëº„Å∞„Çå„Çã',category:'Â°©',color:'ÁôΩËâ≤',state:'Âõ∫‰Ωì'},
{formula:'KCl',name:'Â°©Âåñ„Ç´„É™„Ç¶„É†',elements:['K','Cl'],hint:'Ê∏õÂ°©Ë™øÂë≥Êñô„Å´‰ΩøÁî®',category:'Â°©',color:'ÁôΩËâ≤',state:'Âõ∫‰Ωì'},
{formula:'CaO',name:'ÈÖ∏Âåñ„Ç´„É´„Ç∑„Ç¶„É†',elements:['Ca','O'],hint:'ÁîüÁü≥ÁÅ∞„ÅÆ„Åì„Å®',category:'ÈÖ∏ÂåñÁâ©',color:'ÁôΩËâ≤',state:'Âõ∫‰Ωì'},
{formula:'ZnO',name:'ÈÖ∏Âåñ‰∫úÈâõ',elements:['Zn','O'],hint:'Êó•ÁÑº„ÅëÊ≠¢„ÇÅ„Å´‰Ωø„Çè„Çå„Çã',category:'ÈÖ∏ÂåñÁâ©',color:'ÁôΩËâ≤',state:'Âõ∫‰Ωì'},
{formula:'AgNO‚ÇÉ',name:'Á°ùÈÖ∏ÈäÄ',elements:['Ag','N','O'],hint:'ÂÜôÁúü„ÅÆÁèæÂÉè„Å´‰Ωø„Çè„Çå„Åü',category:'Â°©',color:'ÁôΩËâ≤',state:'Âõ∫‰Ωì'},
{formula:'FeCl‚ÇÉ',name:'Â°©ÂåñÈâÑ(III)',elements:['Fe','Cl'],hint:'Ê∞¥Ê∫∂Ê∂≤„ÅØÈªÑË§êËâ≤',category:'Â°©',color:'ÈªÑË§êËâ≤',state:'Âõ∫‰Ωì'}
];

const COMPOUND_QUIZZES=[
{q:'ÊñôÁêÜ„Å´‰Ωø„ÅÜË™øÂë≥Êñô„ÄåÈ£üÂ°©„Äç„ÅÆÂåñÂ≠¶Âºè„ÅØÔºü',a:'NaCl',wrong:['KCl','CaCl‚ÇÇ','NaOH']},
{q:'Á†ÇÁ≥ñ„ÅÆ‰∏ªÊàêÂàÜ„Äå„Éñ„Éâ„Ç¶Á≥ñ„Äç„ÅÆÂåñÂ≠¶Âêç„ÅØÔºü',a:'„Ç∞„É´„Ç≥„Éº„Çπ',wrong:['„Éï„É´„ÇØ„Éà„Éº„Çπ','„Çπ„ÇØ„É≠„Éº„Çπ','„Éû„É´„Éà„Éº„Çπ']},
{q:'È£üÈÖ¢„ÅÆÈÖ∏„Å£„Å±„Åï„ÅÆÂéüÂõ†Áâ©Ë≥™„ÅØÔºü',a:'ÈÖ¢ÈÖ∏',wrong:['Â°©ÈÖ∏','Á°´ÈÖ∏','„ÇØ„Ç®„É≥ÈÖ∏']},
{q:'„ÅäÈÖí„Å´Âê´„Åæ„Çå„Çã„Ç¢„É´„Ç≥„Éº„É´„ÅØÔºü',a:'„Ç®„Çø„Éé„Éº„É´',wrong:['„É°„Çø„Éé„Éº„É´','„Éó„É≠„Éë„Éé„Éº„É´','„Éñ„Çø„Éé„Éº„É´']},
{q:'ÁÇ≠ÈÖ∏È£≤Êñô„Å´Âê´„Åæ„Çå„ÇãÊ∞ó‰Ωì„ÅØÔºü',a:'‰∫åÈÖ∏ÂåñÁÇ≠Á¥†',wrong:['ÈÖ∏Á¥†','Á™íÁ¥†','‰∏ÄÈÖ∏ÂåñÁÇ≠Á¥†']},
{q:'Ê∏õÂ°©Ë™øÂë≥Êñô„Å´‰Ωø„Çè„Çå„ÇãÂ°©ÂåñÁâ©„ÅØÔºü',a:'Â°©Âåñ„Ç´„É™„Ç¶„É†',wrong:['Â°©Âåñ„Éä„Éà„É™„Ç¶„É†','Â°©Âåñ„Éû„Ç∞„Éç„Ç∑„Ç¶„É†','Â°©Âåñ„Ç´„É´„Ç∑„Ç¶„É†']},
{q:'ÈáçÊõπÔºà„Éô„Éº„Ç≠„É≥„Ç∞„ÇΩ„Éº„ÉÄÔºâ„ÅÆÂåñÂ≠¶Âºè„ÅØÔºü',a:'NaHCO‚ÇÉ',wrong:['NaCl','Na‚ÇÇCO‚ÇÉ','NaOH']},
{q:'Ê¥óÊøØ„ÇΩ„Éº„ÉÄ„ÅÆÊ≠£ÂºèÂêç„ÅØÔºü',a:'ÁÇ≠ÈÖ∏„Éä„Éà„É™„Ç¶„É†',wrong:['ÁÇ≠ÈÖ∏„Ç´„É´„Ç∑„Ç¶„É†','ÁÇ≠ÈÖ∏Ê∞¥Á¥†„Éä„Éà„É™„Ç¶„É†','ÁÇ≠ÈÖ∏„Ç´„É™„Ç¶„É†']},
{q:'„Ç™„Ç≠„Ç∑„Éâ„Éº„É´„ÅÆ‰∏ªÊàêÂàÜ„ÅØÔºü',a:'ÈÅéÈÖ∏ÂåñÊ∞¥Á¥†',wrong:['ÈÅéÈÖ∏Âåñ„Éä„Éà„É™„Ç¶„É†','ÈÖ∏ÂåñÊ∞¥Á¥†','Ê∞¥ÈÖ∏ÂåñÊ∞¥Á¥†']},
{q:'Êó•ÁÑº„ÅëÊ≠¢„ÇÅ„Å´‰Ωø„Çè„Çå„ÇãÁôΩ„ÅÑÁ≤âÊú´„ÅØÔºü',a:'ÈÖ∏Âåñ‰∫úÈâõ',wrong:['ÈÖ∏ÂåñÈâÑ','ÈÖ∏ÂåñÈäÖ','ÈÖ∏Âåñ„Ç´„É´„Ç∑„Ç¶„É†']},
{q:'„Ç¨„É©„Çπ„ÅÆ‰∏ªÊàêÂàÜ„ÅØÔºü',a:'‰∫åÈÖ∏Âåñ„Ç±„Ç§Á¥†',wrong:['‰∫åÈÖ∏ÂåñÁÇ≠Á¥†','ÈÖ∏ÂåñÈâÑ','ÈÖ∏Âåñ„Ç¢„É´„Éü„Éã„Ç¶„É†']},
{q:'Âú∞ÁêÉÊ∏©ÊöñÂåñ„ÅÆÂéüÂõ†„Å®„Å™„ÇãÊ∞ó‰Ωì„ÅØÔºü',a:'‰∫åÈÖ∏ÂåñÁÇ≠Á¥†',wrong:['ÈÖ∏Á¥†','Á™íÁ¥†','Ê∞¥Á¥†']},
{q:'Ëµ§„Åï„Å≥„ÅÆÊ≠£‰Ωì„ÅØÔºü',a:'ÈÖ∏ÂåñÈâÑ(III)',wrong:['ÈÖ∏ÂåñÈäÖ','ÈÖ∏Âåñ„Ç¢„É´„Éü„Éã„Ç¶„É†','ÈÖ∏Âåñ‰∫úÈâõ']},
{q:'Â§ßÊ∞óÊ±öÊüìÁâ©Ë≥™„ÅÆËµ§Ë§êËâ≤„ÅÆÊ∞ó‰Ωì„ÅØÔºü',a:'‰∫åÈÖ∏ÂåñÁ™íÁ¥†',wrong:['‰∫åÈÖ∏ÂåñÁÇ≠Á¥†','‰∫åÈÖ∏ÂåñÁ°´ÈªÑ','‰∏ÄÈÖ∏ÂåñÁÇ≠Á¥†']},
{q:'Ê∏©Ê≥â„ÅÆÁ°´ÈªÑËá≠„ÅÆÂéüÂõ†Áâ©Ë≥™„ÅØÔºü',a:'‰∫åÈÖ∏ÂåñÁ°´ÈªÑ',wrong:['‰∫åÈÖ∏ÂåñÁÇ≠Á¥†','‰∫åÈÖ∏ÂåñÁ™íÁ¥†','„Ç¢„É≥„É¢„Éã„Ç¢']},
{q:'Áü≥ÁÅ∞Áü≥„ÇÑË≤ùÊÆª„ÅÆ‰∏ªÊàêÂàÜ„ÅØÔºü',a:'ÁÇ≠ÈÖ∏„Ç´„É´„Ç∑„Ç¶„É†',wrong:['ÁÇ≠ÈÖ∏„Éä„Éà„É™„Ç¶„É†','Â°©Âåñ„Ç´„É´„Ç∑„Ç¶„É†','Á°´ÈÖ∏„Ç´„É´„Ç∑„Ç¶„É†']},
{q:'ÁÑ°Ëâ≤ÁÑ°Ëá≠„ÅßÊúâÊØí„Å™„Ç¨„Çπ„ÅØÔºü',a:'‰∏ÄÈÖ∏ÂåñÁÇ≠Á¥†',wrong:['‰∫åÈÖ∏ÂåñÁÇ≠Á¥†','Á™íÁ¥†','ÈÖ∏Á¥†']},
{q:'ËãõÊÄß„ÇΩ„Éº„ÉÄ„Å®„ÇÇÂëº„Å∞„Çå„ÇãÂº∑„Ç¢„É´„Ç´„É™„ÅØÔºü',a:'Ê∞¥ÈÖ∏Âåñ„Éä„Éà„É™„Ç¶„É†',wrong:['Ê∞¥ÈÖ∏Âåñ„Ç´„É™„Ç¶„É†','Ê∞¥ÈÖ∏Âåñ„Ç´„É´„Ç∑„Ç¶„É†','Ê∞¥ÈÖ∏Âåñ„Éû„Ç∞„Éç„Ç∑„Ç¶„É†']},
{q:'Âà∫ÊøÄËá≠„ÅÆ„ÅÇ„ÇãÊ∞ó‰Ωì„Åß„ÄÅ„Éà„Ç§„É¨„ÅÆËá≠„ÅÑ„ÅØÔºü',a:'„Ç¢„É≥„É¢„Éã„Ç¢',wrong:['Â°©Á¥†','Á°´ÂåñÊ∞¥Á¥†','‰∫åÈÖ∏ÂåñÁ°´ÈªÑ']},
{q:'Â°©ÈÖ∏„ÅÆÊ∞ó‰ΩìÊàêÂàÜ„ÅØÔºü',a:'Â°©ÂåñÊ∞¥Á¥†',wrong:['Â°©Á¥†','Ê∞¥Á¥†','Â°©Âåñ„Éä„Éà„É™„Ç¶„É†']},
{q:'ÈÉΩÂ∏Ç„Ç¨„Çπ„ÅÆ‰∏ªÊàêÂàÜ„ÅØÔºü',a:'„É°„Çø„É≥',wrong:['„Éó„É≠„Éë„É≥','„Ç®„Çø„É≥','„Éñ„Çø„É≥']},
{q:'LP„Ç¨„Çπ„ÅÆ‰∏ªÊàêÂàÜ„ÅØÔºü',a:'„Éó„É≠„Éë„É≥',wrong:['„É°„Çø„É≥','„Ç®„Çø„É≥','„Éñ„Çø„É≥']},
{q:'Ê∞¥„ÅÆÈõªÊ∞óÂàÜËß£„ÅßÂæó„Çâ„Çå„ÇãÊ∞ó‰Ωì„ÅØÔºü',a:'Ê∞¥Á¥†„Å®ÈÖ∏Á¥†',wrong:['Á™íÁ¥†„Å®ÈÖ∏Á¥†','Ê∞¥Á¥†„Å®Á™íÁ¥†','ÈÖ∏Á¥†„Å®‰∫åÈÖ∏ÂåñÁÇ≠Á¥†']},
{q:'‰æøÁßòËñ¨„Å´‰Ωø„Çè„Çå„ÇãÁôΩ„ÅÑÁ≤âÊú´„ÅØÔºü',a:'ÈÖ∏Âåñ„Éû„Ç∞„Éç„Ç∑„Ç¶„É†',wrong:['ÈÖ∏Âåñ„Ç´„É´„Ç∑„Ç¶„É†','ÈÖ∏Âåñ‰∫úÈâõ','ÈÖ∏ÂåñÈâÑ']},
{q:'ÁîüÁêÜÈ£üÂ°©Ê∞¥„ÅÆÊàêÂàÜ„ÅØÔºü',a:'Â°©Âåñ„Éä„Éà„É™„Ç¶„É†',wrong:['Â°©Âåñ„Ç´„É™„Ç¶„É†','Â°©Âåñ„Ç´„É´„Ç∑„Ç¶„É†','ÁÇ≠ÈÖ∏„Éä„Éà„É™„Ç¶„É†']},
{q:'Ê∂àÊØíÁî®„Ç¢„É´„Ç≥„Éº„É´„ÅÆ‰∏ªÊàêÂàÜ„ÅØÔºü',a:'„Ç®„Çø„Éé„Éº„É´',wrong:['„É°„Çø„Éé„Éº„É´','„Éó„É≠„Éë„Éé„Éº„É´','„Ç§„ÇΩ„Éó„É≠„Éë„Éé„Éº„É´']},
{q:'„ÅÜ„Åå„ÅÑËñ¨„ÅÆËå∂Ëâ≤„ÅÑÊàêÂàÜ„ÅØ‰Ωï„ÇíÂê´„ÇÄÔºü',a:'„É®„Ç¶Á¥†',wrong:['ÈâÑ','ÈäÖ','Ëá≠Á¥†']},
{q:'ÁîüÁü≥ÁÅ∞„ÅÆÂåñÂ≠¶Âºè„ÅØÔºü',a:'CaO',wrong:['Ca(OH)‚ÇÇ','CaCO‚ÇÉ','CaCl‚ÇÇ']},
{q:'Ê∂àÁü≥ÁÅ∞„ÅÆÂåñÂ≠¶Âºè„ÅØÔºü',a:'Ca(OH)‚ÇÇ',wrong:['CaO','CaCO‚ÇÉ','CaSO‚ÇÑ']},
{q:'Á°´ÈÖ∏ÈäÖ„ÅÆÁµêÊô∂„ÅØ‰ΩïËâ≤Ôºü',a:'ÈùíËâ≤',wrong:['Ëµ§Ëâ≤','Á∑ëËâ≤','ÁôΩËâ≤']},
{q:'ÂÜôÁúü„ÅÆÁèæÂÉè„Å´‰Ωø„Çè„Çå„ÅüÈäÄ„ÅÆÂåñÂêàÁâ©„ÅØÔºü',a:'Á°ùÈÖ∏ÈäÄ',wrong:['Â°©ÂåñÈäÄ','ÈÖ∏ÂåñÈäÄ','Á°´ÂåñÈäÄ']},
{q:'ÈãºÈâÑ„Å´‰Ωø„Çè„Çå„Çã‰∏ª„Å™ÂÖÉÁ¥†„ÅØÔºü',a:'ÈâÑ„Å®ÁÇ≠Á¥†',wrong:['ÈâÑ„Å®ÈäÖ','ÈâÑ„Å®„Ç¢„É´„Éü„Éã„Ç¶„É†','ÈâÑ„Å®‰∫úÈâõ']},
{q:'ÁßÅ„Åü„Å°„ÅåÂê∏„ÅÜÁ©∫Ê∞ó„Åß‰Ωì„Å´ÂøÖË¶Å„Å™„ÅÆ„ÅØÔºü',a:'ÈÖ∏Á¥†',wrong:['Á™íÁ¥†','‰∫åÈÖ∏ÂåñÁÇ≠Á¥†','„Ç¢„É´„Ç¥„É≥']},
{q:'ÁßÅ„Åü„Å°„ÅåÂëºÂê∏„ÅßÂá∫„ÅôÊ∞ó‰Ωì„ÅØÔºü',a:'‰∫åÈÖ∏ÂåñÁÇ≠Á¥†',wrong:['ÈÖ∏Á¥†','Á™íÁ¥†','Ê∞¥Á¥†']},
{q:'Ê§çÁâ©„ÅÆÂÖâÂêàÊàê„ÅßÂá∫„ÇãÊ∞ó‰Ωì„ÅØÔºü',a:'ÈÖ∏Á¥†',wrong:['‰∫åÈÖ∏ÂåñÁÇ≠Á¥†','Á™íÁ¥†','Ê∞¥Á¥†']},
{q:'Ê§çÁâ©„ÅÆÂÖâÂêàÊàê„Åß‰Ωø„ÅÜÊ∞ó‰Ωì„ÅØÔºü',a:'‰∫åÈÖ∏ÂåñÁÇ≠Á¥†',wrong:['ÈÖ∏Á¥†','Á™íÁ¥†','Ê∞¥Á¥†']},
{q:'ÈÖ∏ÊÄß„ÅÆ‰ª£Ë°®ÁöÑ„Å™Áâ©Ë≥™„ÅØÔºü',a:'Â°©ÈÖ∏',wrong:['Ê∞¥ÈÖ∏Âåñ„Éä„Éà„É™„Ç¶„É†','È£üÂ°©','Á†ÇÁ≥ñ']},
{q:'„Ç¢„É´„Ç´„É™ÊÄßÔºàÂ°©Âü∫ÊÄßÔºâ„ÅÆ‰ª£Ë°®Áâ©Ë≥™„ÅØÔºü',a:'Ê∞¥ÈÖ∏Âåñ„Éä„Éà„É™„Ç¶„É†',wrong:['Â°©ÈÖ∏','Á°´ÈÖ∏','È£üÂ°©']},
{q:'‰∏≠ÂíåÂèçÂøú„ÅßÈÖ∏„Å®Â°©Âü∫„Åã„ÇâÁîüÊàê„Åï„Çå„Çã„ÅÆ„ÅØÔºü',a:'Â°©„Å®Ê∞¥',wrong:['ÈÖ∏ÂåñÁâ©','ÈáëÂ±û','Ê∞ó‰Ωì']},
{q:'ÈÖ∏Âåñ„Å®ÈÇÑÂÖÉ„ÅåÂêåÊôÇ„Å´Ëµ∑„Åì„ÇãÂèçÂøú„ÇíÔºü',a:'ÈÖ∏ÂåñÈÇÑÂÖÉÂèçÂøú',wrong:['‰∏≠ÂíåÂèçÂøú','ÁΩÆÊèõÂèçÂøú','ÂàÜËß£ÂèçÂøú']},
{q:'Ê∞¥Ê∫∂Ê∂≤„ÅåÈùíËâ≤„Å´„Å™„ÇãÈäÖ„ÅÆÂåñÂêàÁâ©„ÅØÔºü',a:'Á°´ÈÖ∏ÈäÖ',wrong:['Â°©ÂåñÈäÖ','ÈÖ∏ÂåñÈäÖ','Á°ùÈÖ∏ÈäÖ']},
{q:'Ëµ§Ë§êËâ≤„ÅÆ„Åï„Å≥„Çí‰Ωú„ÇãÈÖ∏ÂåñÁâ©„ÅØÔºü',a:'ÈÖ∏ÂåñÈâÑ(III)',wrong:['ÈÖ∏ÂåñÈäÖ','ÈÖ∏Âåñ‰∫úÈâõ','ÈÖ∏Âåñ„Ç¢„É´„Éü„Éã„Ç¶„É†']},
{q:'Â°©ÂåñÈâÑ(III)„ÅÆÊ∞¥Ê∫∂Ê∂≤„ÅØ‰ΩïËâ≤Ôºü',a:'ÈªÑË§êËâ≤',wrong:['ÈùíËâ≤','Á∑ëËâ≤','ÁÑ°Ëâ≤']},
{q:'Â∏∏Ê∏©„ÅßÊ∂≤‰Ωì„ÅÆÂåñÂêàÁâ©ÔºàÊ∞¥‰ª•Â§ñÔºâ„ÅØÔºü',a:'„Ç®„Çø„Éé„Éº„É´',wrong:['Â°©Âåñ„Éä„Éà„É™„Ç¶„É†','„Ç∞„É´„Ç≥„Éº„Çπ','‰∫åÈÖ∏ÂåñÁÇ≠Á¥†']},
{q:'Â∏∏Ê∏©„ÅßÊ∞ó‰Ωì„ÅÆÊúâÊ©üÂåñÂêàÁâ©„ÅØÔºü',a:'„É°„Çø„É≥',wrong:['„Ç®„Çø„Éé„Éº„É´','„Ç∞„É´„Ç≥„Éº„Çπ','ÈÖ¢ÈÖ∏']},
{q:'ËÖê„Å£„ÅüÂçµ„ÅÆ„Çà„ÅÜ„Å™Ëá≠„ÅÑ„Åå„Åô„ÇãÊ∞ó‰Ωì„ÅØÔºü',a:'Á°´ÂåñÊ∞¥Á¥†',wrong:['‰∫åÈÖ∏ÂåñÁ°´ÈªÑ','„Ç¢„É≥„É¢„Éã„Ç¢','Â°©Á¥†']},
{q:'„Éó„Éº„É´„ÅßÊÑü„Åò„ÇãÁã¨Áâπ„ÅÆËá≠„ÅÑ„ÅÆÂéüÂõ†„ÅØÔºü',a:'Â°©Á¥†',wrong:['„Ç¢„É≥„É¢„Éã„Ç¢','Á°´ÂåñÊ∞¥Á¥†','‰∫åÈÖ∏ÂåñÁ™íÁ¥†']},
{q:'ÈÖ¢„ÅÆÈÖ∏„Å£„Å±„ÅÑÂåÇ„ÅÑ„ÅÆÂéüÂõ†Áâ©Ë≥™„ÅØÔºü',a:'ÈÖ¢ÈÖ∏',wrong:['Â°©ÈÖ∏','„ÇØ„Ç®„É≥ÈÖ∏','Á°ùÈÖ∏']}
];

const FEATURE_QUIZZES=[
{q:'Á©∫Ê∞ó‰∏≠„Å´ÊúÄ„ÇÇÂ§ö„ÅèÂê´„Åæ„Çå„ÇãÂÖÉÁ¥†„ÅØÔºü',a:'Á™íÁ¥†',wrong:['ÈÖ∏Á¥†','Ê∞¥Á¥†','ÁÇ≠Á¥†']},
{q:'‰∫∫‰Ωì„Å´ÊúÄ„ÇÇÂ§ö„ÅèÂê´„Åæ„Çå„ÇãÂÖÉÁ¥†„ÅØÔºü',a:'ÈÖ∏Á¥†',wrong:['ÁÇ≠Á¥†','Ê∞¥Á¥†','Á™íÁ¥†']},
{q:'„ÉÄ„Ç§„É§„É¢„É≥„Éâ„ÇíÊßãÊàê„Åô„ÇãÂÖÉÁ¥†„ÅØÔºü',a:'ÁÇ≠Á¥†',wrong:['„Ç±„Ç§Á¥†','ÈÖ∏Á¥†','Á™íÁ¥†']},
{q:'È™®„ÇÑÊ≠Ø„Å´Â§ö„ÅèÂê´„Åæ„Çå„ÇãÂÖÉÁ¥†„ÅØÔºü',a:'„Ç´„É´„Ç∑„Ç¶„É†',wrong:['„É™„É≥','ÈâÑ','„Éû„Ç∞„Éç„Ç∑„Ç¶„É†']},
{q:'Ë°ÄÊ∂≤„ÅÆ„Éò„É¢„Ç∞„É≠„Éì„É≥„Å´Âê´„Åæ„Çå„ÇãÂÖÉÁ¥†„ÅØÔºü',a:'ÈâÑ',wrong:['ÈäÖ','‰∫úÈâõ','„Éû„Ç∞„Éç„Ç∑„Ç¶„É†']},
{q:'ÈõªÁ∑ö„Å´„Çà„Åè‰Ωø„Çè„Çå„ÇãÈáëÂ±ûÂÖÉÁ¥†„ÅØÔºü',a:'ÈäÖ',wrong:['ÈâÑ','„Ç¢„É´„Éü„Éã„Ç¶„É†','ÈäÄ']},
{q:'10ÂÜÜÁéâ„ÅÆ‰∏ªÊàêÂàÜ„Å®„Å™„ÇãÂÖÉÁ¥†„ÅØÔºü',a:'ÈäÖ',wrong:['ÈâÑ','‰∫úÈâõ','„Ç¢„É´„Éü„Éã„Ç¶„É†']},
{q:'È¢®Ëàπ„ÇíÊµÆ„Åã„Åõ„Çã„ÅÆ„Å´‰Ωø„ÅÜÂÖÉÁ¥†„ÅØÔºü',a:'„Éò„É™„Ç¶„É†',wrong:['Ê∞¥Á¥†','Á™íÁ¥†','„Éç„Ç™„É≥']},
{q:'È£üÂ°©„Å´Âê´„Åæ„Çå„Çã„Éè„É≠„Ç≤„É≥„ÅØÔºü',a:'Â°©Á¥†',wrong:['„Éï„ÉÉÁ¥†','„É®„Ç¶Á¥†','Ëá≠Á¥†']},
{q:'„Çπ„Éû„Éõ„ÅÆ„Éê„ÉÉ„ÉÜ„É™„Éº„Å´‰Ωø„Çè„Çå„Çã„Ç¢„É´„Ç´„É™ÈáëÂ±û„ÅØÔºü',a:'„É™„ÉÅ„Ç¶„É†',wrong:['„Éä„Éà„É™„Ç¶„É†','„Ç´„É™„Ç¶„É†','„Ç´„É´„Ç∑„Ç¶„É†']},
{q:'ÊúÄ„ÇÇËªΩ„ÅÑÂÖÉÁ¥†„ÅØÔºü',a:'Ê∞¥Á¥†',wrong:['„Éò„É™„Ç¶„É†','„É™„ÉÅ„Ç¶„É†','ÈÖ∏Á¥†']},
{q:'Â∏∏Ê∏©„ÅßÊ∂≤‰Ωì„ÅÆÈáëÂ±ûÂÖÉÁ¥†„ÅØÔºü',a:'Ê∞¥ÈäÄ',wrong:['Èâõ','ÈäÄ','‰∫úÈâõ']},
{q:'ÈªÑÈáëËâ≤„ÅÆË≤¥ÈáëÂ±ûÂÖÉÁ¥†„ÅØÔºü',a:'Èáë',wrong:['ÈäÄ','ÈäÖ','ÈâÑ']},
{q:'ÂçäÂ∞é‰Ωì„ÉÅ„ÉÉ„Éó„ÅÆÊùêÊñô„Å´‰Ωø„Çè„Çå„ÇãÂÖÉÁ¥†„ÅØÔºü',a:'„Ç±„Ç§Á¥†',wrong:['ÁÇ≠Á¥†','ÈâÑ','ÈäÖ']},
{q:'Ê≠ØÁ£®„ÅçÁ≤â„Å´ÂÖ•„Å£„Å¶„ÅÑ„Çã„Éè„É≠„Ç≤„É≥„ÅØÔºü',a:'„Éï„ÉÉÁ¥†',wrong:['Â°©Á¥†','„É®„Ç¶Á¥†','Ëá≠Á¥†']},
{q:'„ÅÜ„Åå„ÅÑËñ¨„Å´Âê´„Åæ„Çå„Çã„Éè„É≠„Ç≤„É≥„ÅØÔºü',a:'„É®„Ç¶Á¥†',wrong:['Â°©Á¥†','„Éï„ÉÉÁ¥†','Ëá≠Á¥†']},
{q:'„Ç¢„É´„Éü„Éõ„Ç§„É´„ÅÆÊùêÊñô„Å®„Å™„ÇãÂÖÉÁ¥†„ÅØÔºü',a:'„Ç¢„É´„Éü„Éã„Ç¶„É†',wrong:['ÈâÑ','ÈäÖ','‰∫úÈâõ']},
{q:'„Éû„ÉÉ„ÉÅ„ÅÆÊùêÊñô„Å´‰Ωø„Çè„Çå„ÇãÂÖÉÁ¥†„ÅØÔºü',a:'„É™„É≥',wrong:['Á°´ÈªÑ','ÁÇ≠Á¥†','Á™íÁ¥†']},
{q:'Ê∏©Ê≥â„ÅÆÂåÇ„ÅÑ„ÅÆÂéüÂõ†„Å®„Å™„ÇãÂÖÉÁ¥†„ÅØÔºü',a:'Á°´ÈªÑ',wrong:['Á™íÁ¥†','„É™„É≥','Â°©Á¥†']},
{q:'„Éê„Éä„Éä„Å´Â§ö„ÅèÂê´„Åæ„Çå„Çã„Ç¢„É´„Ç´„É™ÈáëÂ±û„ÅØÔºü',a:'„Ç´„É™„Ç¶„É†',wrong:['„Éä„Éà„É™„Ç¶„É†','„Ç´„É´„Ç∑„Ç¶„É†','„Éû„Ç∞„Éç„Ç∑„Ç¶„É†']},
{q:'ÂÖâ„Çã„Éç„Ç™„É≥„Çµ„Ç§„É≥„Å´‰Ωø„Çè„Çå„ÇãÂ∏å„Ç¨„Çπ„ÅØÔºü',a:'„Éç„Ç™„É≥',wrong:['„Ç¢„É´„Ç¥„É≥','„Éò„É™„Ç¶„É†','Á™íÁ¥†']},
{q:'Â∏∏Ê∏©„ÅßÊ∂≤‰Ωì„ÅÆÈùûÈáëÂ±ûÂÖÉÁ¥†„ÅØÔºü',a:'Ëá≠Á¥†',wrong:['Â°©Á¥†','„É®„Ç¶Á¥†','Ê∞¥ÈäÄ']}
];

const QUESTION_TYPES=[
{type:'symbol_to_name',label:'ÂÖÉÁ¥†Ë®òÂè∑ ‚Üí ÂÖÉÁ¥†Âêç',icon:'üî§',generate:(el,wrong)=>({display:'symbol',question:el.symbol,answer:el.name,choices:shuffle([el.name,...wrong.slice(0,3).map(e=>e.name)])})},
{type:'name_to_symbol',label:'ÂÖÉÁ¥†Âêç ‚Üí ÂÖÉÁ¥†Ë®òÂè∑',icon:'‚öõÔ∏è',generate:(el,wrong)=>({display:'text',question:el.name,answer:el.symbol,choices:shuffle([el.symbol,...wrong.slice(0,3).map(e=>e.symbol)])})},
{type:'num_to_symbol',label:'ÂéüÂ≠êÁï™Âè∑ ‚Üí ÂÖÉÁ¥†',icon:'üî¢',generate:(el,wrong)=>({display:'number',question:`ÂéüÂ≠êÁï™Âè∑ ${el.num}`,answer:el.symbol,choices:shuffle([el.symbol,wrong[0].symbol])})},
{type:'reading_to_symbol',label:'Ë™≠„ÅøÊñπ ‚Üí ÂÖÉÁ¥†Ë®òÂè∑',icon:'üìñ',generate:(el,wrong)=>({display:'text',question:`„Äå${el.reading}„Äç`,answer:el.symbol,choices:shuffle([el.symbol,...wrong.slice(0,3).map(e=>e.symbol)])})},
{type:'element_to_group',label:'ÂÖÉÁ¥† ‚Üí ÂàÜÈ°û',icon:'üè∑Ô∏è',generate:(el)=>{const groups=[...new Set(ELEMENTS.map(e=>e.group))];const wg=groups.filter(g=>g!==el.group);return{display:'element',question:el,answer:el.group,choices:shuffle([el.group,...shuffle(wg).slice(0,3)])}}},
{type:'element_state',label:'ÂÖÉÁ¥† ‚Üí Â∏∏Ê∏©„Åß„ÅÆÁä∂ÊÖã',icon:'üå°Ô∏è',generate:(el)=>({display:'element',question:el,answer:el.state,choices:shuffle(['Âõ∫‰Ωì','Ê∂≤‰Ωì','Ê∞ó‰Ωì'])})},
{type:'feature_quiz',label:'ÁâπÂæ¥„ÇØ„Ç§„Ç∫',icon:'üí°',generate:()=>{const q=FEATURE_QUIZZES[Math.floor(Math.random()*FEATURE_QUIZZES.length)];return{display:'feature',question:q.q,answer:q.a,choices:shuffle([q.a,...shuffle(q.wrong).slice(0,3)])}}},
{type:'combine_elements',label:'ÂÖÉÁ¥†„ÅÆÁµÑ„ÅøÂêà„Çè„Åõ',icon:'üß™',generate:()=>{const c=COMPOUNDS[Math.floor(Math.random()*COMPOUNDS.length)];const wc=COMPOUNDS.filter(x=>x.name!==c.name);return{display:'combine',question:c,answer:c.name,choices:shuffle([c.name,...shuffle(wc).slice(0,3).map(x=>x.name)])}}},
{type:'formula_to_name',label:'ÂåñÂ≠¶Âºè ‚Üí ÂêçÂâç',icon:'üìù',generate:()=>{const c=COMPOUNDS[Math.floor(Math.random()*COMPOUNDS.length)];const wc=COMPOUNDS.filter(x=>x.name!==c.name);return{display:'formula',question:c.formula,answer:c.name,choices:shuffle([c.name,...shuffle(wc).slice(0,3).map(x=>x.name)])}}},
{type:'name_to_formula',label:'ÂêçÂâç ‚Üí ÂåñÂ≠¶Âºè',icon:'üî¨',generate:()=>{const c=COMPOUNDS[Math.floor(Math.random()*COMPOUNDS.length)];const wc=COMPOUNDS.filter(x=>x.formula!==c.formula);return{display:'text',question:c.name,answer:c.formula,choices:shuffle([c.formula,...shuffle(wc).slice(0,3).map(x=>x.formula)])}}},
{type:'compound_quiz',label:'ÂåñÂêàÁâ©„ÇØ„Ç§„Ç∫',icon:'üéØ',generate:()=>{const q=COMPOUND_QUIZZES[Math.floor(Math.random()*COMPOUND_QUIZZES.length)];return{display:'feature',question:q.q,answer:q.a,choices:shuffle([q.a,...shuffle(q.wrong).slice(0,3)])}}},
{type:'compound_hint',label:'„Éí„É≥„Éà„Åã„ÇâÂåñÂêàÁâ©',icon:'üí≠',generate:()=>{const c=COMPOUNDS[Math.floor(Math.random()*COMPOUNDS.length)];const wc=COMPOUNDS.filter(x=>x.name!==c.name);return{display:'feature',question:`„Äå${c.hint}„Äç„Å®„ÅÑ„Åà„Å∞Ôºü`,answer:c.name,choices:shuffle([c.name,...shuffle(wc).slice(0,3).map(x=>x.name)])}}},
{type:'compound_color',label:'ÂåñÂêàÁâ©„ÅÆËâ≤',icon:'üé®',generate:()=>{const cc=COMPOUNDS.filter(c=>c.color&&c.color!=='ÁÑ°Ëâ≤');const c=cc[Math.floor(Math.random()*cc.length)];const cols=['ÁôΩËâ≤','ÈùíËâ≤','Ëµ§Ë§êËâ≤','ÈªÑË§êËâ≤','Á∑ëËâ≤','ÈªíËâ≤'];const wc=cols.filter(x=>x!==c.color);return{display:'feature',question:`${c.name}„ÅØ‰ΩïËâ≤Ôºü`,answer:c.color,choices:shuffle([c.color,...shuffle(wc).slice(0,3)])}}},
{type:'compound_state',label:'ÂåñÂêàÁâ©„ÅÆÁä∂ÊÖã',icon:'üå°Ô∏è',generate:()=>{const c=COMPOUNDS[Math.floor(Math.random()*COMPOUNDS.length)];return{display:'feature',question:`${c.name}„ÅÆÂ∏∏Ê∏©„Åß„ÅÆÁä∂ÊÖã„ÅØÔºü`,answer:c.state,choices:shuffle(['Âõ∫‰Ωì','Ê∂≤‰Ωì','Ê∞ó‰Ωì'])}}},
{type:'compound_category',label:'ÂåñÂêàÁâ©„ÅÆÂàÜÈ°û',icon:'üìã',generate:()=>{const c=COMPOUNDS[Math.floor(Math.random()*COMPOUNDS.length)];const cats=[...new Set(COMPOUNDS.map(x=>x.category))];const wc=cats.filter(x=>x!==c.category);return{display:'feature',question:`${c.name}„ÅØ„Å©„ÅÆÁ®ÆÈ°ûÔºü`,answer:c.category,choices:shuffle([c.category,...shuffle(wc).slice(0,3)])}}}
];

function shuffle(a){const arr=[...a];for(let i=arr.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[arr[i],arr[j]]=[arr[j],arr[i]]}return arr}
function getRandomElements(exclude,count){return shuffle(ELEMENTS.filter(e=>e.num!==exclude.num)).slice(0,count)}
function getElementBySymbol(s){return ELEMENTS.find(e=>e.symbol===s)}

(function(){
const container=document.getElementById('particles');container.innerHTML='';
for(let i=0;i<20;i++){const p=document.createElement('div');p.className='particle';p.style.left=Math.random()*100+'%';p.style.animationDelay=Math.random()*10+'s';p.style.animationDuration=(6+Math.random()*6)+'s';const size=2+Math.random()*4;p.style.width=size+'px';p.style.height=size+'px';const colors=['#ff00ff','#00ffff','#ffff00','#00ff88'];const color=colors[Math.floor(Math.random()*colors.length)];p.style.background=color;p.style.boxShadow=`0 0 ${size*3}px ${color}`;container.appendChild(p)}
})();

let G={questionNum:0,lives:3,score:0,streak:0,maxStreak:0,correctCount:0,currentQuestion:null,currentType:null,timer:null,timeLeft:10000,maxTime:10000,gameOver:false,answered:false,level:1,passes:3,cleared:false};
let highScore=parseInt(localStorage.getItem('elementQuizHighScore')||'0');

function showScreen(id){document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active')}

function goBack(){clearInterval(G.timer);G.gameOver=true;window.location.href='index.html?menu=1'}

function backToTitle(){clearInterval(G.timer);G.gameOver=true;document.getElementById('title-highscore').textContent=highScore.toLocaleString();updateClearStatus();showScreen('title')}

function updateClearStatus(){
document.getElementById('clear-status').style.display=localStorage.getItem('gameClear_'+GAME_NUMBER)==='true'?'block':'none';
}

function updateHUD(){
document.getElementById('lives').textContent='‚ù§Ô∏è'.repeat(G.lives)+'üñ§'.repeat(3-G.lives);
document.getElementById('score').textContent=G.score.toLocaleString();
document.getElementById('streak').textContent=G.streak>1?`üî•${G.streak}`:'';
document.getElementById('question-num').textContent=`Q.${G.questionNum}`;
document.getElementById('level').textContent=`Lv.${G.level}`;
document.getElementById('pass-count').textContent=G.passes>0?`‚è≠Ô∏è${G.passes}`:'‚è≠Ô∏è0';
const current=Math.min(G.questionNum,CLEAR_TARGET);
document.getElementById('clear-progress').textContent=G.cleared?'üèÜ „ÇØ„É™„Ç¢Ê∏à„ÅøÔºÅ':`üéØ Q.${current} / Q.${CLEAR_TARGET}`;
const pct=Math.min(G.questionNum/CLEAR_TARGET*100,100);
const pbar=document.getElementById('progress');
pbar.style.width=pct+'%';
if(pct>=100)pbar.classList.add('full');else pbar.classList.remove('full');
}

function popup(text,type){const p=document.createElement('div');p.className=`popup ${type}`;p.textContent=text;document.body.appendChild(p);setTimeout(()=>p.remove(),600)}

function flash(type){const f=document.getElementById('flash');f.className='flash '+type;setTimeout(()=>f.className='flash',250)}

function showSplash(text,callback,delay=600){document.getElementById('area').innerHTML=`<div class="splash">${text}</div>`;setTimeout(callback,delay)}

function startTimer(){
clearInterval(G.timer);G.timeLeft=G.maxTime;
const bar=document.getElementById('timer');bar.style.width='100%';bar.className='timer-bar';
G.timer=setInterval(()=>{
G.timeLeft-=30;const pct=G.timeLeft/G.maxTime*100;bar.style.width=pct+'%';
if(pct<20)bar.className='timer-bar danger';else if(pct<40)bar.className='timer-bar warn';
if(G.timeLeft<=0){clearInterval(G.timer);if(!G.answered)questionFailed()}
},30);
}

function startGame(){
G.questionNum=0;G.lives=3;G.score=0;G.streak=0;G.maxStreak=0;G.correctCount=0;G.gameOver=false;G.level=1;G.maxTime=10000;G.passes=3;G.cleared=false;
showScreen('gameplay');
showSplash('READY?',()=>showSplash('GO!',nextQuestion,400),500);
}

function nextQuestion(){
if(G.lives<=0||G.gameOver)return endGame();
G.questionNum++;G.answered=false;
G.level=Math.floor(G.questionNum/5)+1;
G.maxTime=Math.max(4000,10000-(G.level-1)*800);
checkStageClear();
const qType=QUESTION_TYPES[Math.floor(Math.random()*QUESTION_TYPES.length)];
G.currentType=qType;
if(['feature_quiz','combine_elements','formula_to_name','name_to_formula','compound_quiz','compound_hint','compound_color','compound_state','compound_category'].includes(qType.type)){
G.currentQuestion=qType.generate();
}else{
const element=ELEMENTS[Math.floor(Math.random()*ELEMENTS.length)];
const wrongElements=getRandomElements(element,3);
G.currentQuestion=qType.generate(element,wrongElements);
G.currentQuestion.correctElement=element;
}
document.getElementById('mission-text').innerHTML=`${qType.icon} ${qType.label}`;
renderQuestion();updateHUD();startTimer();
}

function renderQuestion(){
const q=G.currentQuestion;const choiceCount=q.choices.length;
let questionHTML='',labelText='Á≠î„Åà„ÅØÔºü';
if(q.display==='symbol'){questionHTML=`<div class="element-display"><span class="symbol">${q.question}</span></div>`;labelText='„Åì„ÅÆÂÖÉÁ¥†Ë®òÂè∑„ÅØÔºü'}
else if(q.display==='element'){questionHTML=`<div class="element-display"><span class="atomic-num">${q.question.num}</span><span class="symbol">${q.question.symbol}</span><span class="name">${q.question.name}</span></div>`;labelText='„Åì„ÅÆÂÖÉÁ¥†„ÅØÔºü'}
else if(q.display==='number'){questionHTML=`<span style="font-size:1.4em">${q.question}</span>`;labelText='„Åì„ÅÆÂéüÂ≠êÁï™Âè∑„ÅÆÂÖÉÁ¥†„ÅØÔºü'}
else if(q.display==='feature'){questionHTML=`<span class="question-text">${q.question}</span>`;labelText='ÂïèÈ°å'}
else if(q.display==='combine'){const els=q.question.elements.slice(0,2);const e1=getElementBySymbol(els[0]);const e2=getElementBySymbol(els[1]);questionHTML=`<div class="combine-display"><div class="combine-element"><span class="symbol">${els[0]}</span><span class="name">${e1?e1.name:''}</span></div><span class="combine-plus">+</span><div class="combine-element"><span class="symbol">${els[1]}</span><span class="name">${e2?e2.name:''}</span></div><span class="combine-arrow">‚Üí</span></div>`;labelText='ÁµÑ„ÅøÂêà„Çè„Åõ„Çã„Å®‰Ωï„Åå„Åß„Åç„ÇãÔºü'}
else if(q.display==='formula'){questionHTML=`<div class="formula-display">${q.question}</div>`;labelText='„Åì„ÅÆÂåñÂ≠¶Âºè„ÅÆÂêçÂâç„ÅØÔºü'}
else{questionHTML=`<span>${q.question}</span>`}
const isTwoChoice=choiceCount===2;const isThreeChoice=choiceCount===3;
const colClass=(isTwoChoice||isThreeChoice)?'cols-1':'cols-2';
const btnClass=isTwoChoice?'choice-btn big':'choice-btn';
let html=`<div class="question-box"><div class="question-label">${labelText}</div><div class="question-content">${questionHTML}</div></div><div class="choices ${colClass}">${q.choices.map((c,i)=>`<button class="${btnClass}" onclick="selectAnswer(${i})" data-answer="${c}">${c}</button>`).join('')}</div>`;
html+=`<button class="pass-btn" onclick="usePass()" ${G.passes<=0?'disabled':''}>‚è≠Ô∏è „Éë„ÇπÔºàÊÆã„Çä${G.passes}ÂõûÔºâ</button>`;
document.getElementById('area').innerHTML=html;
}

function usePass(){
if(G.answered||G.gameOver||G.passes<=0)return;
G.passes--;G.answered=true;clearInterval(G.timer);
popup('PASS ‚è≠Ô∏è','pass');updateHUD();
setTimeout(()=>nextQuestion(),600);
}

function selectAnswer(index){
if(G.answered||G.gameOver)return;G.answered=true;clearInterval(G.timer);
const buttons=document.querySelectorAll('.choice-btn');const selectedBtn=buttons[index];
const selectedAnswer=selectedBtn.dataset.answer;const isCorrect=selectedAnswer===G.currentQuestion.answer;
buttons.forEach(btn=>btn.classList.add('disabled'));
const passBtn=document.querySelector('.pass-btn');if(passBtn)passBtn.disabled=true;
if(isCorrect){selectedBtn.classList.add('correct');answerCorrect()}
else{selectedBtn.classList.add('wrong');buttons.forEach(btn=>{if(btn.dataset.answer===G.currentQuestion.answer)btn.classList.add('correct')});answerWrong()}
}

function answerCorrect(){
G.streak++;G.correctCount++;if(G.streak>G.maxStreak)G.maxStreak=G.streak;
const timeBonus=Math.floor(G.timeLeft/100);const streakBonus=G.streak*50;const levelBonus=G.level*20;
G.score+=100+timeBonus+streakBonus+levelBonus;
flash('hit');
if(G.streak>=5)popup(`üî•${G.streak}ÈÄ£Á∂ö!`,'combo');else if(G.streak>=3)popup(`${G.streak}ÈÄ£Á∂ö!`,'correct');else popup('CORRECT!','correct');
if(G.score>highScore){highScore=G.score;localStorage.setItem('elementQuizHighScore',highScore)}
updateHUD();
setTimeout(()=>nextQuestion(),700);
}

function answerWrong(){
G.lives--;G.streak=0;flash('miss');popup('WRONG!','wrong');updateHUD();
setTimeout(()=>{if(G.lives<=0)endGame();else nextQuestion()},900);
}

function questionFailed(){
G.answered=true;G.lives--;G.streak=0;
const buttons=document.querySelectorAll('.choice-btn');
buttons.forEach(btn=>{btn.classList.add('disabled');if(btn.dataset.answer===G.currentQuestion.answer)btn.classList.add('correct')});
const passBtn=document.querySelector('.pass-btn');if(passBtn)passBtn.disabled=true;
flash('miss');popup('TIME UP!','wrong');updateHUD();
setTimeout(()=>{if(G.lives<=0)endGame();else nextQuestion()},900);
}

function checkStageClear(){
if(G.questionNum>=CLEAR_TARGET&&!G.cleared){
G.cleared=true;
localStorage.setItem('gameClear_'+GAME_NUMBER,'true');
showClearOverlay();
}
}

function showClearOverlay(){
const overlay=document.createElement('div');overlay.className='clear-overlay';
overlay.innerHTML=`<div class="clear-banner"><div style="font-size:4em">üèÜ</div><div style="font-size:1.8em;font-weight:900;color:#ffd700;margin:10px 0;text-shadow:0 0 20px #ffd700">„Çπ„ÉÜ„Éº„Ç∏„ÇØ„É™„Ç¢ÔºÅ</div><div style="color:#ffe0a0;font-size:1.1em">‚ú® „Éí„É≥„ÉàÊñáÂ≠ó„ÇíÁç≤Âæó„Åó„Åæ„Åó„Åü ‚ú®</div><div style="color:#aaa;font-size:.8em;margin-top:8px">„Ç≤„Éº„É†„ÅØÁ∂öË°å„Åß„Åç„Åæ„Åô</div></div>`;
document.body.appendChild(overlay);setTimeout(()=>overlay.remove(),3000);
}

function endGame(){
G.gameOver=true;clearInterval(G.timer);
const isNewRecord=G.score>=highScore&&G.score>0;
if(isNewRecord){highScore=G.score;localStorage.setItem('elementQuizHighScore',highScore)}
const passUsed=3-G.passes;
document.getElementById('result-content').innerHTML=`
<div class="result-icon-container"><div class="result-icon">${isNewRecord?'üéâ':'üíÄ'}</div></div>
<div class="result-title ${isNewRecord?'newrecord':''}">${isNewRecord?'üèÜ NEW RECORD! üèÜ':'GAME OVER'}</div>
${G.cleared?'<div class="clear-achieved">üèÜ „Çπ„ÉÜ„Éº„Ç∏„ÇØ„É™„Ç¢ÈÅîÊàêÔºÅ</div>':''}
<div class="result-score-box"><div class="result-score-label">SCORE</div><div class="result-score-value" id="score-counter">0</div></div>
<div class="result-stats">
<div class="stat-row"><span>üìä Âà∞ÈÅî„É¨„Éô„É´</span><span class="stat-value cyan">Lv.${G.level}</span></div>
<div class="stat-row"><span>üìã Âà∞ÈÅîÂïèÈ°å</span><span class="stat-value cyan">Q.${G.questionNum}</span></div>
<div class="stat-row"><span>‚úÖ Ê≠£Ëß£Êï∞</span><span class="stat-value cyan">${G.correctCount}</span></div>
<div class="stat-row"><span>üî• ÊúÄÂ§ßÈÄ£Á∂öÊ≠£Ëß£</span><span class="stat-value gold">${G.maxStreak}</span></div>
<div class="stat-row"><span>‚è≠Ô∏è „Éë„Çπ‰ΩøÁî®</span><span class="stat-value cyan">${passUsed}Âõû</span></div>
<div class="stat-row"><span>üèÜ „Éè„Ç§„Çπ„Ç≥„Ç¢</span><span class="stat-value gold">${highScore.toLocaleString()}</span></div>
</div>
<div class="result-buttons">
<button class="btn" onclick="startGame()">üîÑ RETRY</button>
<button class="btn btn-cyan btn-small" onclick="backToTitle()">üè† TITLE</button>
<button class="btn btn-gray btn-small" onclick="goBack()">‚Üê „É°„Éã„É•„Éº„Å´Êàª„Çã</button>
</div>`;
showScreen('result');
let current=0;const target=G.score;const step=target/60;
const counter=document.getElementById('score-counter');
const countUp=setInterval(()=>{current+=step;if(current>=target){current=target;clearInterval(countUp)}counter.textContent=Math.floor(current).toLocaleString()},16);
if(isNewRecord)popup('NEW RECORD!','newrecord');
}

document.getElementById('title-highscore').textContent=highScore.toLocaleString();
updateClearStatus();
</script>
</body>
</html>